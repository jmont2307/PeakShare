(()=>{"use strict";var e={1273:(e,o,t)=>{t.r(o),t.d(o,{default:()=>_});var r=t(6665),l=t(3929),s=t(6283),i=t(3668),n=t(4701),a=t(5662),d=t(484),c=t(5648),u=t(6773),m=t(8264),h=t(9554),g=t(6725),f=t(8703),p=t(4767),x=t(4037),y=t(673),b=t(8413),j=t(3117),C=t(893),w=t(5259),k=t(8987);const S=Object.assign({},k.DefaultTheme,{colors:Object.assign({},k.DefaultTheme.colors,{primary:"#0066CC",accent:"#FFFFFF",background:"#FFFFFF",surface:"#F8FAFC",error:"#B00020",text:"#1A202C",onBackground:"#1A202C",onSurface:"#1A202C",disabled:"#C9C9C9",placeholder:"#A0A0A0",backdrop:"rgba(0, 0, 0, 0.5)",notification:"#0066CC",snow:"#FFFFFF",ice:"#E1F5FE",glacier:"#81D4FA",powder:"#F5F5F5",mountain:"#2D3748",forest:"#1B5E20",deepBlue:"#004080",skyBlue:"#4299E1",midnight:"#1A202C",silver:"#CBD5E0",warning:"#FFC107",success:"#38A169"}),fonts:Object.assign({},k.DefaultTheme.fonts,{regular:{fontFamily:"sans-serif",fontWeight:"normal"},medium:{fontFamily:"sans-serif-medium",fontWeight:"normal"},light:{fontFamily:"sans-serif-light",fontWeight:"normal"},thin:{fontFamily:"sans-serif-thin",fontWeight:"normal"}}),roundness:8,animation:{scale:1}});var v=t(397);const B=Object.assign({},S,{dark:!0,colors:Object.assign({},S.colors,{primary:"#0A84FF",background:"#1C1C1E",surface:"#2C2C2E",text:"#FFFFFF",onBackground:"#FFFFFF",onSurface:"#FFFFFF",error:"#FF453A",mountain:"#8E8E93",midnight:"#FFFFFF",silver:"#38383A",deepBlue:"#0A84FF",skyBlue:"#64D2FF",snow:"#1C1C1E",ice:"#2C2C2E"})}),T=(0,r.createContext)(),I=(0,r.createContext)(),P=[{id:"1",username:"YourStory",profileImageUrl:"https://images.unsplash.com/photo-1518199266791-5375a83190b7?ixlib=rb-4.0.3&auto=format&fit=crop&w=150&q=60",hasStory:!1},{id:"2",username:"skiPro1",profileImageUrl:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=150&q=60",hasStory:!0},{id:"3",username:"powderGirl",profileImageUrl:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-4.0.3&auto=format&fit=crop&w=150&q=60",hasStory:!0},{id:"4",username:"alpineRider",profileImageUrl:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&auto=format&fit=crop&w=150&q=60",hasStory:!0},{id:"5",username:"snowBro",profileImageUrl:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?ixlib=rb-4.0.3&auto=format&fit=crop&w=150&q=60",hasStory:!1}],F=[{id:"1",name:"Whistler",imageUrl:"https://images.unsplash.com/photo-1551698618-1dfe5d97d256?ixlib=rb-4.0.3&auto=format&fit=crop&w=150&q=60",newSnow:5},{id:"2",name:"Aspen",imageUrl:"https://images.unsplash.com/photo-1605540436563-5bca919ae766?ixlib=rb-4.0.3&auto=format&fit=crop&w=150&q=60",newSnow:3},{id:"3",name:"Park City",imageUrl:"https://images.unsplash.com/photo-1453090927415-5f45085b65c0?ixlib=rb-4.0.3&auto=format&fit=crop&w=150&q=60",newSnow:8}],z=[{id:"1",user:P[1],imageUrl:"https://images.unsplash.com/photo-1548133750-129e3168eb56?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",location:{name:"Whistler Blackcomb"},caption:"Perfect powder day at Whistler today! #skiing #powderday",likeCount:245,commentCount:37,timestamp:new Date(Date.now()-72e5),weather:{temperature:-2,conditions:"Snowing"},liked:!1,saved:!1,comments:[{id:"1",user:P[2],text:"Looks amazing! Wish I was there!"},{id:"2",user:P[4],text:"Epic powder day!"}]},{id:"2",user:P[2],imageUrl:"https://images.unsplash.com/photo-1549042261-f29e367fee85?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",location:{name:"Aspen Snowmass"},caption:"Blue bird day at Aspen! #skiing #bluebird",likeCount:183,commentCount:21,timestamp:new Date(Date.now()-18e6),weather:{temperature:5,conditions:"Clear"},liked:!0,saved:!1,comments:[{id:"1",user:P[1],text:"What a view! \ud83d\ude0d"},{id:"2",user:P[3],text:"Perfect conditions!"}]}],W=({user:e,onPress:o})=>(0,v.jsxs)(c.default,{style:X.storyContainer,onPress:o,children:[(0,v.jsx)(l.default,{style:X.storyCircleWrapper,children:e.hasStory?(0,v.jsx)(C.LinearGradient,{colors:[theme.colors.primary,theme.colors.skyBlue,theme.colors.deepBlue],start:{x:0,y:0},end:{x:1,y:1},style:X.gradientBorder,children:(0,v.jsx)(l.default,{style:X.storyCircleInner,children:(0,v.jsx)(d.default,{source:{uri:e.profileImageUrl},style:X.storyAvatar})})}):(0,v.jsx)(l.default,{style:[X.storyCircle,X.inactiveStoryBorder],children:(0,v.jsx)(d.default,{source:{uri:e.profileImageUrl},style:X.storyAvatar})})}),(0,v.jsx)(s.default,{style:X.storyUsername,numberOfLines:1,ellipsizeMode:"tail",children:e.username})]}),L=({resort:e,onPress:o})=>(0,v.jsxs)(c.default,{style:X.resortContainer,onPress:o,children:[(0,v.jsxs)(l.default,{style:X.storyCircleWrapper,children:[(0,v.jsx)(C.LinearGradient,{colors:[theme.colors.glacier,theme.colors.skyBlue,theme.colors.deepBlue],start:{x:0,y:0},end:{x:1,y:1},style:X.gradientBorder,children:(0,v.jsx)(l.default,{style:X.storyCircleInner,children:(0,v.jsx)(d.default,{source:{uri:e.imageUrl},style:X.storyAvatar})})}),(0,v.jsx)(l.default,{style:X.snowBadge,children:(0,v.jsxs)(s.default,{style:X.snowText,children:[e.newSnow,'"']})})]}),(0,v.jsx)(s.default,{style:X.storyUsername,numberOfLines:1,ellipsizeMode:"tail",children:e.name})]}),U=({post:e,onLike:o,onSave:t,onComment:r,onViewComments:i,onUserPress:n,onImagePress:a,onShare:u})=>(0,v.jsxs)(l.default,{style:X.postCard,children:[(0,v.jsxs)(l.default,{style:X.postHeader,children:[(0,v.jsxs)(c.default,{style:X.userInfo,onPress:()=>n(e.user),children:[(0,v.jsx)(d.default,{source:{uri:e.user.profileImageUrl},style:X.avatar}),(0,v.jsxs)(l.default,{children:[(0,v.jsx)(s.default,{style:X.username,children:e.user.username}),e.location&&(0,v.jsx)(s.default,{style:X.location,children:e.location.name})]})]}),(0,v.jsx)(c.default,{children:(0,v.jsx)(s.default,{style:X.moreIcon,children:"\u22ef"})})]}),(0,v.jsx)(c.default,{activeOpacity:.9,onPress:()=>a(e),children:(0,v.jsxs)(l.default,{style:X.postImageContainer,children:[(0,v.jsx)(d.default,{source:{uri:e.imageUrl},style:X.postImage,resizeMode:"cover"}),e.weather&&(0,v.jsx)(l.default,{style:X.weatherBadge,children:(0,v.jsxs)(s.default,{style:X.weatherText,children:[e.weather.conditions.toLowerCase().includes("snow")?"\u2744\ufe0f ":"\u2600\ufe0f ",e.weather.temperature,"\xb0 ",e.weather.conditions]})})]})}),(0,v.jsxs)(l.default,{style:X.actionsRow,children:[(0,v.jsxs)(l.default,{style:X.leftActions,children:[(0,v.jsx)(c.default,{onPress:()=>o(e.id),children:(0,v.jsx)(s.default,{style:[X.actionIcon,e.liked&&X.liked],children:e.liked?"\u2665":"\u2661"})}),(0,v.jsx)(c.default,{onPress:()=>r(e),children:(0,v.jsx)(s.default,{style:X.actionIcon,children:"\ud83d\udcac"})}),(0,v.jsx)(c.default,{onPress:()=>u(e),children:(0,v.jsx)(s.default,{style:X.actionIcon,children:"\u2197\ufe0f"})})]}),(0,v.jsx)(c.default,{onPress:()=>t(e.id),children:(0,v.jsx)(s.default,{style:X.actionIcon,children:(e.saved,"\ud83d\udd16")})})]}),(0,v.jsxs)(l.default,{style:X.postContent,children:[(0,v.jsxs)(s.default,{style:X.likesCount,children:[e.likeCount," likes"]}),(0,v.jsxs)(s.default,{style:X.caption,children:[(0,v.jsx)(s.default,{style:X.captionUsername,children:e.user.username})," ",e.caption]}),e.commentCount>0&&(0,v.jsx)(c.default,{onPress:()=>i(e),children:(0,v.jsxs)(s.default,{style:X.viewComments,children:["View all ",e.commentCount," comments"]})}),(0,v.jsx)(s.default,{style:X.timestamp,children:(e=>{const o=new Date-e,t=Math.floor(o/36e5),r=Math.floor(o/6e4);return t>=24?`${Math.floor(t/24)} days ago`:t>=1?`${t} hours ago`:`${r} minutes ago`})(e.timestamp)})]})]}),A=({visible:e,story:o,onClose:t})=>(0,v.jsx)(m.default,{visible:e,transparent:!1,animationType:"slide",onRequestClose:t,children:(0,v.jsxs)(l.default,{style:X.storyViewerContainer,children:[(0,v.jsxs)(l.default,{style:X.storyViewerHeader,children:[(0,v.jsxs)(l.default,{style:X.storyUserInfo,children:[(0,v.jsx)(d.default,{source:{uri:o?.user?.profileImageUrl},style:X.storyViewerAvatar}),(0,v.jsx)(s.default,{style:X.storyViewerUsername,children:o?.user?.username})]}),(0,v.jsx)(c.default,{onPress:t,children:(0,v.jsx)(s.default,{style:X.closeButton,children:"\u2715"})})]}),(0,v.jsx)(d.default,{source:{uri:o?.imageUrl},style:X.storyViewerImage,resizeMode:"cover"}),(0,v.jsx)(l.default,{style:X.storyViewerFooter,children:(0,v.jsx)(u.default,{style:X.storyReplyInput,placeholder:"Send message",placeholderTextColor:theme.colors.silver})})]})}),D=({visible:e,post:o,onClose:t,onAddComment:i,onLikeComment:a})=>{const{theme:g}=(0,r.useContext)(T),[f,x]=(0,r.useState)(""),[y,b]=(0,r.useState)({}),j=()=>{f.trim()&&(i(o.id,f),x(""))};return(0,v.jsx)(m.default,{visible:e,transparent:!1,animationType:"slide",onRequestClose:t,children:(0,v.jsx)(p.default,{behavior:"height",style:{flex:1},children:(0,v.jsxs)(n.default,{style:[X.commentsContainer,{backgroundColor:g.colors.background}],children:[(0,v.jsxs)(l.default,{style:[X.commentsHeader,{borderBottomColor:g.colors.silver}],children:[(0,v.jsx)(c.default,{onPress:t,children:(0,v.jsx)(s.default,{style:[X.backButton,{color:g.colors.midnight}],children:"\u2190"})}),(0,v.jsx)(s.default,{style:[X.commentsTitle,{color:g.colors.midnight}],children:"Comments"}),(0,v.jsx)(c.default,{onPress:t,children:(0,v.jsx)(s.default,{style:[X.closeButton,{color:g.colors.midnight}],children:"\u2715"})})]}),(0,v.jsx)(h.default,{data:o?.comments,keyExtractor:e=>e.id,contentContainerStyle:{paddingBottom:80},renderItem:({item:e})=>(0,v.jsxs)(l.default,{style:[X.commentItem,{borderBottomColor:g.colors.silver}],children:[(0,v.jsx)(c.default,{children:(0,v.jsx)(d.default,{source:{uri:e.user.profileImageUrl},style:X.commentAvatar})}),(0,v.jsxs)(l.default,{style:X.commentContent,children:[(0,v.jsx)(s.default,{style:[X.commentUsername,{color:g.colors.midnight}],children:e.user.username}),(0,v.jsx)(s.default,{style:[X.commentText,{color:g.colors.midnight}],children:e.text}),(0,v.jsxs)(l.default,{style:X.commentActions,children:[(0,v.jsx)(s.default,{style:[X.commentTimestamp,{color:g.colors.mountain}],children:"2m"}),(0,v.jsx)(c.default,{children:(0,v.jsx)(s.default,{style:[X.commentReply,{color:g.colors.mountain}],children:"Reply"})})]})]}),(0,v.jsx)(c.default,{style:X.commentLikeButton,onPress:()=>{return t=e.id,b((e=>Object.assign({},e,{[t]:!e[t]}))),void(a&&a(o.id,t));var t},children:(0,v.jsx)(s.default,{style:[X.commentLikeIcon,y[e.id]&&{color:g.colors.error}],children:y[e.id]?"\u2665":"\u2661"})})]})}),(0,v.jsxs)(l.default,{style:[X.commentInputContainer,{backgroundColor:g.colors.background,borderTopColor:g.colors.silver}],children:[(0,v.jsx)(d.default,{source:{uri:P[0].profileImageUrl},style:X.commentInputAvatar}),(0,v.jsx)(u.default,{style:[X.commentInput,{color:g.colors.midnight}],placeholder:"Add a comment...",placeholderTextColor:g.colors.mountain,value:f,onChangeText:x,autoFocus:!0,returnKeyType:"send",onSubmitEditing:j}),(0,v.jsx)(c.default,{disabled:!f.trim(),style:[X.postButton,!f.trim()&&X.postButtonDisabled],onPress:j,children:(0,v.jsx)(s.default,{style:[X.postButtonText,{color:g.colors.primary}],children:"Post"})})]})]})})})},R=({icon:e,isActive:o,onPress:t})=>(0,v.jsx)(c.default,{style:X.tabBarItem,onPress:t,children:(0,v.jsx)(s.default,{style:[X.tabIcon,o&&X.activeTab],children:e})}),V=({visible:e,onClose:o,userData:t,onSave:i})=>{const{theme:h}=(0,r.useContext)(T),[g,f]=(0,r.useState)(t?.fullName||""),[p,x]=(0,r.useState)(t?.username||""),[y,b]=(0,r.useState)(t?.bio||"Skiing enthusiast | 15 resorts visited this season | Follow for daily snow updates \u2744\ufe0f"),[j,C]=(0,r.useState)(t?.website||"");return(0,v.jsx)(m.default,{visible:e,animationType:"slide",onRequestClose:o,children:(0,v.jsxs)(n.default,{style:[X.editProfileContainer,{backgroundColor:h.colors.background}],children:[(0,v.jsxs)(l.default,{style:[X.editProfileHeader,{borderBottomColor:h.colors.silver}],children:[(0,v.jsx)(c.default,{onPress:o,children:(0,v.jsx)(s.default,{style:[X.cancelButton,{color:h.colors.midnight}],children:"Cancel"})}),(0,v.jsx)(s.default,{style:[X.editProfileTitle,{color:h.colors.midnight}],children:"Edit Profile"}),(0,v.jsx)(c.default,{onPress:()=>{const e=Object.assign({},t,{fullName:g,username:p,bio:y,website:j});i(e),o()},children:(0,v.jsx)(s.default,{style:[X.saveButton,{color:h.colors.primary}],children:"Save"})})]}),(0,v.jsxs)(a.default,{style:X.editProfileContent,children:[(0,v.jsxs)(l.default,{style:X.profilePictureEdit,children:[(0,v.jsx)(d.default,{source:{uri:t?.profileImageUrl},style:X.editProfileImage}),(0,v.jsx)(c.default,{children:(0,v.jsx)(s.default,{style:[X.changePhotoText,{color:h.colors.primary}],children:"Change Profile Photo"})})]}),(0,v.jsxs)(l.default,{style:X.editFieldContainer,children:[(0,v.jsx)(s.default,{style:[X.editFieldLabel,{color:h.colors.mountain}],children:"Name"}),(0,v.jsx)(u.default,{style:[X.editField,{color:h.colors.midnight}],value:g,onChangeText:f,placeholder:"Your full name",placeholderTextColor:h.colors.mountain})]}),(0,v.jsxs)(l.default,{style:X.editFieldContainer,children:[(0,v.jsx)(s.default,{style:[X.editFieldLabel,{color:h.colors.mountain}],children:"Username"}),(0,v.jsx)(u.default,{style:[X.editField,{color:h.colors.midnight}],value:p,onChangeText:x,placeholder:"Your username",placeholderTextColor:h.colors.mountain,autoCapitalize:"none"})]}),(0,v.jsxs)(l.default,{style:X.editFieldContainer,children:[(0,v.jsx)(s.default,{style:[X.editFieldLabel,{color:h.colors.mountain}],children:"Bio"}),(0,v.jsx)(u.default,{style:[X.editBioField,{color:h.colors.midnight}],value:y,onChangeText:b,placeholder:"Tell others about yourself and your skiing passion...",placeholderTextColor:h.colors.mountain,multiline:!0,numberOfLines:4})]}),(0,v.jsxs)(l.default,{style:X.editFieldContainer,children:[(0,v.jsx)(s.default,{style:[X.editFieldLabel,{color:h.colors.mountain}],children:"Website"}),(0,v.jsx)(u.default,{style:[X.editField,{color:h.colors.midnight}],value:j,onChangeText:C,placeholder:"Your website",placeholderTextColor:h.colors.mountain,autoCapitalize:"none",keyboardType:"url"})]}),(0,v.jsxs)(l.default,{style:X.skiStatsEdit,children:[(0,v.jsx)(s.default,{style:[X.skiStatsEditTitle,{color:h.colors.midnight}],children:"Skiing Stats"}),(0,v.jsx)(s.default,{style:[X.skiStatsEditDesc,{color:h.colors.mountain}],children:"These stats are automatically calculated based on your posts and activities"}),(0,v.jsxs)(l.default,{style:[X.skiStats,{backgroundColor:h.colors.ice}],children:[(0,v.jsxs)(l.default,{style:X.skiStatItem,children:[(0,v.jsx)(s.default,{style:[X.skiStatValue,{color:h.colors.deepBlue}],children:"127"}),(0,v.jsx)(s.default,{style:[X.skiStatLabel,{color:h.colors.mountain}],children:"Days on Snow"})]}),(0,v.jsxs)(l.default,{style:X.skiStatItem,children:[(0,v.jsx)(s.default,{style:[X.skiStatValue,{color:h.colors.deepBlue}],children:"15"}),(0,v.jsx)(s.default,{style:[X.skiStatLabel,{color:h.colors.mountain}],children:"Resorts"})]}),(0,v.jsxs)(l.default,{style:X.skiStatItem,children:[(0,v.jsx)(s.default,{style:[X.skiStatValue,{color:h.colors.deepBlue}],children:"48,920"}),(0,v.jsx)(s.default,{style:[X.skiStatLabel,{color:h.colors.mountain}],children:"Vertical ft"})]})]})]})]})]})})},O=({user:e,posts:o,isOwnProfile:t,onClose:i,onEditProfile:u})=>{const{theme:h}=(0,r.useContext)(T),[g,f]=(0,r.useState)("posts"),[p,x]=(0,r.useState)(!1),y=o||[{id:"1",imageUrl:"https://images.unsplash.com/photo-1551698618-1dfe5d97d256?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=60"},{id:"2",imageUrl:"https://images.unsplash.com/photo-1605540436563-5bca919ae766?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=60"},{id:"3",imageUrl:"https://images.unsplash.com/photo-1453090927415-5f45085b65c0?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=60"},{id:"4",imageUrl:"https://images.unsplash.com/photo-1605540436563-5bca919ae766?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=60"},{id:"5",imageUrl:"https://images.unsplash.com/photo-1488591216063-cb6ab485cece?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=60"},{id:"6",imageUrl:"https://images.unsplash.com/photo-1548133750-129e3168eb56?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=60"}];return(0,v.jsx)(m.default,{visible:!!e,animationType:"slide",onRequestClose:i,children:(0,v.jsxs)(n.default,{style:[X.profileContainer,{backgroundColor:h.colors.background}],children:[(0,v.jsxs)(l.default,{style:[X.profileHeader,{borderBottomColor:h.colors.silver}],children:[(0,v.jsx)(c.default,{onPress:i,children:(0,v.jsx)(s.default,{style:[X.backButton,{color:h.colors.midnight}],children:"\u2190"})}),(0,v.jsx)(s.default,{style:[X.profileUsername,{color:h.colors.midnight}],children:e?.username||""}),(0,v.jsx)(c.default,{children:(0,v.jsx)(s.default,{style:[X.menuIcon,{color:h.colors.midnight}],children:"\u22ef"})})]}),(0,v.jsxs)(a.default,{children:[(0,v.jsxs)(l.default,{style:X.profileInfo,children:[(0,v.jsx)(l.default,{style:X.profileImageContainer,children:(0,v.jsx)(d.default,{source:{uri:e?.profileImageUrl},style:X.profileImage})}),(0,v.jsxs)(l.default,{style:X.statsContainer,children:[(0,v.jsxs)(l.default,{style:X.statItem,children:[(0,v.jsx)(s.default,{style:[X.statNumber,{color:h.colors.midnight}],children:y.length}),(0,v.jsx)(s.default,{style:[X.statLabel,{color:h.colors.mountain}],children:"Posts"})]}),(0,v.jsxs)(l.default,{style:X.statItem,children:[(0,v.jsx)(s.default,{style:[X.statNumber,{color:h.colors.midnight}],children:"843"}),(0,v.jsx)(s.default,{style:[X.statLabel,{color:h.colors.mountain}],children:"Followers"})]}),(0,v.jsxs)(l.default,{style:X.statItem,children:[(0,v.jsx)(s.default,{style:[X.statNumber,{color:h.colors.midnight}],children:"428"}),(0,v.jsx)(s.default,{style:[X.statLabel,{color:h.colors.mountain}],children:"Following"})]})]})]}),(0,v.jsxs)(l.default,{style:X.bioContainer,children:[(0,v.jsx)(s.default,{style:[X.realName,{color:h.colors.midnight}],children:e?.fullName||e?.username}),(0,v.jsx)(s.default,{style:[X.bioText,{color:h.colors.midnight}],children:e?.bio||"Skiing enthusiast | 15 resorts visited this season | Follow for daily snow updates \u2744\ufe0f"}),e?.website&&(0,v.jsx)(s.default,{style:[X.websiteText,{color:h.colors.primary}],children:e.website}),(0,v.jsxs)(l.default,{style:[X.skiStats,{backgroundColor:h.colors.ice}],children:[(0,v.jsxs)(l.default,{style:X.skiStatItem,children:[(0,v.jsx)(s.default,{style:[X.skiStatValue,{color:h.colors.deepBlue}],children:"127"}),(0,v.jsx)(s.default,{style:[X.skiStatLabel,{color:h.colors.mountain}],children:"Days on Snow"})]}),(0,v.jsxs)(l.default,{style:X.skiStatItem,children:[(0,v.jsx)(s.default,{style:[X.skiStatValue,{color:h.colors.deepBlue}],children:"15"}),(0,v.jsx)(s.default,{style:[X.skiStatLabel,{color:h.colors.mountain}],children:"Resorts"})]}),(0,v.jsxs)(l.default,{style:X.skiStatItem,children:[(0,v.jsx)(s.default,{style:[X.skiStatValue,{color:h.colors.deepBlue}],children:"48,920"}),(0,v.jsx)(s.default,{style:[X.skiStatLabel,{color:h.colors.mountain}],children:"Vertical ft"})]})]})]}),(0,v.jsx)(l.default,{style:X.actionButtonsContainer,children:t?(0,v.jsx)(c.default,{style:[X.editProfileButton,{borderColor:h.colors.silver}],onPress:()=>x(!0),children:(0,v.jsx)(s.default,{style:[X.editProfileButtonText,{color:h.colors.midnight}],children:"Edit Profile"})}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(c.default,{style:[X.followButton,{backgroundColor:h.colors.primary}],children:(0,v.jsx)(s.default,{style:X.followButtonText,children:"Follow"})}),(0,v.jsx)(c.default,{style:[X.messageButton,{backgroundColor:h.colors.snow,borderColor:h.colors.silver}],children:(0,v.jsx)(s.default,{style:[X.messageButtonText,{color:h.colors.midnight}],children:"Message"})})]})}),(0,v.jsxs)(l.default,{style:[X.profileTabsContainer,{borderTopColor:h.colors.silver,borderBottomColor:h.colors.silver}],children:[(0,v.jsx)(c.default,{style:[X.profileTab,"posts"===g&&X.activeProfileTab],onPress:()=>f("posts"),children:(0,v.jsx)(s.default,{style:[X.profileTabIcon,{color:h.colors.midnight}],children:"\u25a6"})}),(0,v.jsx)(c.default,{style:[X.profileTab,"tagged"===g&&X.activeProfileTab],onPress:()=>f("tagged"),children:(0,v.jsx)(s.default,{style:[X.profileTabIcon,{color:h.colors.midnight}],children:"\ud83c\udff7\ufe0f"})})]}),(0,v.jsx)(l.default,{style:X.postsGrid,children:y.map((e=>(0,v.jsx)(c.default,{style:X.gridItem,children:(0,v.jsx)(d.default,{source:{uri:e.imageUrl},style:X.gridImage})},e.id)))})]}),(0,v.jsx)(V,{visible:p,onClose:()=>x(!1),userData:e,onSave:e=>{u&&u(e)}})]})})},E=({visible:e,onClose:o})=>{const{theme:t}=(0,r.useContext)(T),i=[{id:"1",user:P[1],lastMessage:"Awesome powder day!",time:"2h"},{id:"2",user:P[2],lastMessage:"Are you going to Aspen this weekend?",time:"1d"},{id:"3",user:P[3],lastMessage:"Check out this new gear I got",time:"3d"},{id:"4",user:P[4],lastMessage:"Hey! Looking forward to hitting the slopes with you.",time:"1w"}];return(0,v.jsx)(m.default,{visible:e,animationType:"slide",onRequestClose:o,children:(0,v.jsxs)(n.default,{style:[X.dmsContainer,{backgroundColor:t.colors.background}],children:[(0,v.jsxs)(l.default,{style:[X.dmsHeader,{borderBottomColor:t.colors.silver}],children:[(0,v.jsx)(c.default,{onPress:o,children:(0,v.jsx)(s.default,{style:[X.backButton,{color:t.colors.midnight}],children:"\u2190"})}),(0,v.jsx)(s.default,{style:[X.dmsTitle,{color:t.colors.midnight}],children:"Messages"}),(0,v.jsx)(c.default,{children:(0,v.jsx)(s.default,{style:[X.newMessageIcon,{color:t.colors.primary}],children:"+"})})]}),(0,v.jsx)(h.default,{data:i,keyExtractor:e=>e.id,renderItem:({item:e})=>(0,v.jsxs)(c.default,{style:[X.conversationItem,{borderBottomColor:t.colors.silver}],children:[(0,v.jsx)(d.default,{source:{uri:e.user.profileImageUrl},style:X.conversationAvatar}),(0,v.jsxs)(l.default,{style:X.conversationContent,children:[(0,v.jsx)(s.default,{style:[X.conversationUsername,{color:t.colors.midnight}],children:e.user.username}),(0,v.jsx)(s.default,{style:[X.conversationMessage,{color:t.colors.mountain}],children:e.lastMessage})]}),(0,v.jsx)(s.default,{style:[X.conversationTime,{color:t.colors.mountain}],children:e.time})]})})]})})},H=({visible:e,onClose:o,onToggleTheme:t,isDarkMode:i})=>{const{theme:d}=(0,r.useContext)(T),{handleLogout:u}=(0,r.useContext)(I);return(0,v.jsx)(m.default,{visible:e,animationType:"slide",onRequestClose:o,children:(0,v.jsxs)(n.default,{style:[X.settingsContainer,{backgroundColor:d.colors.background}],children:[(0,v.jsxs)(l.default,{style:[X.settingsHeader,{borderBottomColor:d.colors.silver}],children:[(0,v.jsx)(c.default,{onPress:o,children:(0,v.jsx)(s.default,{style:[X.backButton,{color:d.colors.midnight}],children:"\u2190"})}),(0,v.jsx)(s.default,{style:[X.settingsTitle,{color:d.colors.midnight}],children:"Settings"}),(0,v.jsx)(l.default,{style:{width:40}})]}),(0,v.jsxs)(a.default,{children:[(0,v.jsxs)(l.default,{style:X.settingSection,children:[(0,v.jsx)(s.default,{style:[X.settingSectionTitle,{color:d.colors.midnight}],children:"Account"}),(0,v.jsxs)(c.default,{style:[X.settingItem,{borderBottomColor:d.colors.silver}],children:[(0,v.jsx)(s.default,{style:[X.settingLabel,{color:d.colors.midnight}],children:"Edit Profile"}),(0,v.jsx)(s.default,{style:[X.settingArrow,{color:d.colors.mountain}],children:"\u203a"})]}),(0,v.jsxs)(c.default,{style:[X.settingItem,{borderBottomColor:d.colors.silver}],children:[(0,v.jsx)(s.default,{style:[X.settingLabel,{color:d.colors.midnight}],children:"Notifications"}),(0,v.jsx)(s.default,{style:[X.settingArrow,{color:d.colors.mountain}],children:"\u203a"})]}),(0,v.jsxs)(c.default,{style:[X.settingItem,{borderBottomColor:d.colors.silver}],children:[(0,v.jsx)(s.default,{style:[X.settingLabel,{color:d.colors.midnight}],children:"Privacy"}),(0,v.jsx)(s.default,{style:[X.settingArrow,{color:d.colors.mountain}],children:"\u203a"})]})]}),(0,v.jsxs)(l.default,{style:X.settingSection,children:[(0,v.jsx)(s.default,{style:[X.settingSectionTitle,{color:d.colors.midnight}],children:"Appearance"}),(0,v.jsxs)(l.default,{style:[X.settingItem,{borderBottomColor:d.colors.silver}],children:[(0,v.jsx)(s.default,{style:[X.settingLabel,{color:d.colors.midnight}],children:"Dark Mode"}),(0,v.jsx)(x.default,{value:i,onValueChange:t,trackColor:{false:d.colors.silver,true:d.colors.primary},thumbColor:d.colors.background})]})]}),(0,v.jsxs)(l.default,{style:X.settingSection,children:[(0,v.jsx)(s.default,{style:[X.settingSectionTitle,{color:d.colors.midnight}],children:"Preferences"}),(0,v.jsxs)(c.default,{style:[X.settingItem,{borderBottomColor:d.colors.silver}],children:[(0,v.jsx)(s.default,{style:[X.settingLabel,{color:d.colors.midnight}],children:"Resort Preferences"}),(0,v.jsx)(s.default,{style:[X.settingArrow,{color:d.colors.mountain}],children:"\u203a"})]}),(0,v.jsxs)(c.default,{style:[X.settingItem,{borderBottomColor:d.colors.silver}],children:[(0,v.jsx)(s.default,{style:[X.settingLabel,{color:d.colors.midnight}],children:"Snow Reports"}),(0,v.jsx)(s.default,{style:[X.settingArrow,{color:d.colors.mountain}],children:"\u203a"})]})]}),(0,v.jsx)(c.default,{style:X.logoutButton,onPress:u,children:(0,v.jsx)(s.default,{style:X.logoutButtonText,children:"Log Out"})})]})]})})},q=({onLogin:e,onNavigateToSignup:o})=>{const{theme:t}=(0,r.useContext)(T),[i,a]=(0,r.useState)(""),[d,m]=(0,r.useState)("");return(0,v.jsxs)(n.default,{style:[X.authContainer,{backgroundColor:t.colors.background}],children:[(0,v.jsx)(j.default,{style:t.dark?"light":"dark"}),(0,v.jsxs)(l.default,{style:X.logoContainer,children:[(0,v.jsx)(s.default,{style:[X.logoText,{color:t.colors.primary,fontSize:34}],children:"PeakShare"}),(0,v.jsx)(s.default,{style:[X.logoTagline,{color:t.colors.midnight}],children:"Connect with ski enthusiasts worldwide"})]}),(0,v.jsxs)(l.default,{style:X.formContainer,children:[(0,v.jsx)(l.default,{style:[X.inputContainer,{backgroundColor:t.colors.surface,borderColor:t.colors.silver}],children:(0,v.jsx)(u.default,{style:[X.input,{color:t.colors.midnight}],placeholder:"Email",placeholderTextColor:t.colors.mountain,value:i,onChangeText:a,autoCapitalize:"none",keyboardType:"email-address"})}),(0,v.jsx)(l.default,{style:[X.inputContainer,{backgroundColor:t.colors.surface,borderColor:t.colors.silver}],children:(0,v.jsx)(u.default,{style:[X.input,{color:t.colors.midnight}],placeholder:"Password",placeholderTextColor:t.colors.mountain,value:d,onChangeText:m,secureTextEntry:!0})}),(0,v.jsx)(c.default,{style:X.forgotPasswordLink,children:(0,v.jsx)(s.default,{style:[X.forgotPasswordText,{color:t.colors.primary}],children:"Forgot password?"})}),(0,v.jsx)(c.default,{style:[X.authButton,{backgroundColor:t.colors.primary}],onPress:()=>e(i,d),children:(0,v.jsx)(s.default,{style:X.authButtonText,children:"Log In"})})]}),(0,v.jsxs)(l.default,{style:X.authFooter,children:[(0,v.jsx)(s.default,{style:[X.authFooterText,{color:t.colors.mountain}],children:"Don't have an account?"}),(0,v.jsx)(c.default,{onPress:o,children:(0,v.jsx)(s.default,{style:[X.authFooterLink,{color:t.colors.primary}],children:" Sign up"})})]})]})},M=({onSignup:e,onNavigateToLogin:o})=>{const{theme:t}=(0,r.useContext)(T),[i,a]=(0,r.useState)(""),[d,m]=(0,r.useState)(""),[h,g]=(0,r.useState)(""),[f,p]=(0,r.useState)("");return(0,v.jsxs)(n.default,{style:[X.authContainer,{backgroundColor:t.colors.background}],children:[(0,v.jsx)(j.default,{style:t.dark?"light":"dark"}),(0,v.jsx)(c.default,{style:X.backButtonContainer,onPress:o,children:(0,v.jsx)(s.default,{style:[X.backButton,{color:t.colors.midnight}],children:"\u2190"})}),(0,v.jsxs)(l.default,{style:X.logoContainer,children:[(0,v.jsx)(s.default,{style:[X.logoText,{color:t.colors.primary,fontSize:34}],children:"PeakShare"}),(0,v.jsx)(s.default,{style:[X.logoTagline,{color:t.colors.midnight}],children:"Join the skiing community"})]}),(0,v.jsxs)(l.default,{style:X.formContainer,children:[(0,v.jsx)(l.default,{style:[X.inputContainer,{backgroundColor:t.colors.surface,borderColor:t.colors.silver}],children:(0,v.jsx)(u.default,{style:[X.input,{color:t.colors.midnight}],placeholder:"Email",placeholderTextColor:t.colors.mountain,value:i,onChangeText:a,autoCapitalize:"none",keyboardType:"email-address"})}),(0,v.jsx)(l.default,{style:[X.inputContainer,{backgroundColor:t.colors.surface,borderColor:t.colors.silver}],children:(0,v.jsx)(u.default,{style:[X.input,{color:t.colors.midnight}],placeholder:"Full Name",placeholderTextColor:t.colors.mountain,value:d,onChangeText:m})}),(0,v.jsx)(l.default,{style:[X.inputContainer,{backgroundColor:t.colors.surface,borderColor:t.colors.silver}],children:(0,v.jsx)(u.default,{style:[X.input,{color:t.colors.midnight}],placeholder:"Username",placeholderTextColor:t.colors.mountain,value:h,onChangeText:g,autoCapitalize:"none"})}),(0,v.jsx)(l.default,{style:[X.inputContainer,{backgroundColor:t.colors.surface,borderColor:t.colors.silver}],children:(0,v.jsx)(u.default,{style:[X.input,{color:t.colors.midnight}],placeholder:"Password",placeholderTextColor:t.colors.mountain,value:f,onChangeText:p,secureTextEntry:!0})}),(0,v.jsx)(c.default,{style:[X.authButton,{backgroundColor:t.colors.primary}],onPress:()=>e(i,d,h,f),children:(0,v.jsx)(s.default,{style:X.authButtonText,children:"Sign Up"})})]}),(0,v.jsxs)(l.default,{style:X.authFooter,children:[(0,v.jsx)(s.default,{style:[X.authFooterText,{color:t.colors.mountain}],children:"Already have an account?"}),(0,v.jsx)(c.default,{onPress:o,children:(0,v.jsx)(s.default,{style:[X.authFooterLink,{color:t.colors.primary}],children:" Log in"})})]})]})},N=({visible:e,onClose:o,onSubmitPost:t})=>{const{theme:i}=(0,r.useContext)(T),{user:h}=(0,r.useContext)(I),[g,f]=(0,r.useState)("photo"),[x,y]=(0,r.useState)(""),[b,j]=(0,r.useState)(null),[C,w]=(0,r.useState)(""),k=["https://images.unsplash.com/photo-1551698618-1dfe5d97d256?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80","https://images.unsplash.com/photo-1605540436563-5bca919ae766?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80","https://images.unsplash.com/photo-1453090927415-5f45085b65c0?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80","https://images.unsplash.com/photo-1488591216063-cb6ab485cece?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80","https://images.unsplash.com/photo-1548133750-129e3168eb56?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"],S=()=>{const e=k[Math.floor(Math.random()*k.length)];j(e)};return(0,v.jsx)(m.default,{visible:e,animationType:"slide",onRequestClose:o,children:(0,v.jsxs)(n.default,{style:[X.newPostContainer,{backgroundColor:i.colors.background}],children:[(0,v.jsxs)(l.default,{style:[X.newPostHeader,{borderBottomColor:i.colors.silver}],children:[(0,v.jsx)(c.default,{onPress:o,children:(0,v.jsx)(s.default,{style:[X.closeButton,{color:i.colors.midnight}],children:"\u2715"})}),(0,v.jsx)(s.default,{style:[X.newPostTitle,{color:i.colors.midnight}],children:"photo"===g?"New Photo Post":"Status Update"}),(0,v.jsx)(c.default,{onPress:()=>{if("photo"===g&&!b||!x.trim())return void alert("Please add all required content for your post");const e={id:`post-${Date.now()}`,user:{id:h.id,username:h.username,profileImageUrl:h.profileImageUrl||P[0].profileImageUrl,hasStory:!1},imageUrl:b,caption:x,location:C?{name:C}:null,likeCount:0,commentCount:0,timestamp:new Date,weather:{temperature:-2,conditions:"Snowing"},liked:!1,saved:!1,comments:[]};t(e),y(""),j(null),w(""),o()},children:(0,v.jsx)(s.default,{style:[X.postActionText,{color:i.colors.primary}],children:"Share"})})]}),(0,v.jsx)(p.default,{behavior:"height",style:{flex:1},children:(0,v.jsxs)(a.default,{style:X.newPostContent,children:[(0,v.jsxs)(l.default,{style:X.postTypeSelector,children:[(0,v.jsx)(c.default,{style:[X.postTypeButton,"photo"===g&&{backgroundColor:i.colors.primary}],onPress:()=>f("photo"),children:(0,v.jsx)(s.default,{style:[X.postTypeText,{color:"photo"===g?i.colors.snow:i.colors.midnight}],children:"Photo"})}),(0,v.jsx)(c.default,{style:[X.postTypeButton,"status"===g&&{backgroundColor:i.colors.primary}],onPress:()=>f("status"),children:(0,v.jsx)(s.default,{style:[X.postTypeText,{color:"status"===g?i.colors.snow:i.colors.midnight}],children:"Status"})})]}),"photo"===g&&(0,v.jsx)(l.default,{style:X.imagePickerContainer,children:b?(0,v.jsxs)(l.default,{style:X.selectedImageContainer,children:[(0,v.jsx)(d.default,{source:{uri:b},style:X.selectedImage}),(0,v.jsx)(c.default,{style:X.changeImageButton,onPress:S,children:(0,v.jsx)(s.default,{style:X.changeImageText,children:"Change Photo"})})]}):(0,v.jsx)(c.default,{style:[X.imagePicker,{backgroundColor:i.colors.silver}],onPress:S,children:(0,v.jsx)(s.default,{style:[X.imagePickerText,{color:i.colors.midnight}],children:"Tap to select a photo"})})}),(0,v.jsx)(l.default,{style:X.captionContainer,children:(0,v.jsx)(u.default,{style:[X.captionInput,{color:i.colors.midnight}],placeholder:"photo"===g?"Write a caption...":"What's on your mind?",placeholderTextColor:i.colors.mountain,value:x,onChangeText:y,multiline:!0,numberOfLines:4})}),(0,v.jsxs)(l.default,{style:[X.locationContainer,{borderTopColor:i.colors.silver}],children:[(0,v.jsx)(s.default,{style:[X.locationLabel,{color:i.colors.midnight}],children:"Add Location"}),(0,v.jsx)(u.default,{style:[X.locationInput,{color:i.colors.midnight}],placeholder:"Search for a ski resort...",placeholderTextColor:i.colors.mountain,value:C,onChangeText:w})]}),(0,v.jsxs)(l.default,{style:X.weatherContainer,children:[(0,v.jsx)(s.default,{style:[X.weatherLabel,{color:i.colors.midnight}],children:"Current Snow Conditions"}),(0,v.jsxs)(l.default,{style:X.weatherInfo,children:[(0,v.jsx)(s.default,{style:[X.weatherValue,{color:i.colors.deepBlue}],children:"\u2744\ufe0f -2\xb0C Snowing"}),(0,v.jsx)(s.default,{style:[X.weatherSubtext,{color:i.colors.mountain}],children:"Weather data automatically added from your location"})]})]})]})})]})})},$=({user:e,isDarkMode:o,toggleTheme:t})=>{const{theme:i}=(0,r.useContext)(T),{handleLogout:d}=(0,r.useContext)(I),[u,m]=(0,r.useState)("home"),[h,g]=(0,r.useState)(z),[p,x]=(0,r.useState)(null),[y,b]=(0,r.useState)(null),[C,w]=(0,r.useState)(null),[k,S]=(0,r.useState)(!1),[B,V]=(0,r.useState)(!1),[q,M]=(0,r.useState)(!1),$=e=>{g((o=>o.map((o=>{if(o.id===e){const e=!o.liked,t=e?1:-1;return Object.assign({},o,{liked:e,likeCount:o.likeCount+t})}return o}))))},G=e=>{g((o=>o.map((o=>o.id===e?Object.assign({},o,{saved:!o.saved}):o))))},J=e=>{const o={user:e,imageUrl:"1"===e.id?"https://images.unsplash.com/photo-1521080755838-d2311117f767?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80":e.hasStory?"https://images.unsplash.com/photo-1579489225013-3763e8be349c?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80":null};o.imageUrl?x(o):alert("No story available")},Y=e=>{const o=h.filter((o=>o.user.id===e.id));w({user:e,posts:o,isOwnProfile:!1})};return(0,v.jsxs)(n.default,{style:[X.container,{backgroundColor:i.colors.background}],children:[(0,v.jsx)(j.default,{style:i.dark?"light":"dark"}),(0,v.jsxs)(l.default,{style:[X.header,{borderBottomColor:i.colors.silver,backgroundColor:i.colors.background}],children:[(0,v.jsx)(s.default,{style:[X.logoText,{color:i.colors.primary}],children:"PeakShare"}),(0,v.jsxs)(l.default,{style:X.headerIcons,children:[(0,v.jsx)(c.default,{style:X.iconButton,children:(0,v.jsx)(s.default,{style:[X.iconPlaceholder,{color:i.colors.midnight}],children:"+"})}),(0,v.jsx)(c.default,{style:X.iconButton,onPress:()=>{S(!0)},children:(0,v.jsx)(s.default,{style:[X.iconPlaceholder,{color:i.colors.midnight}],children:"\u2709\ufe0f"})})]})]}),(0,v.jsxs)(a.default,{style:{backgroundColor:i.colors.background},children:[(0,v.jsx)(l.default,{style:[X.storiesRow,{borderBottomColor:i.colors.silver,backgroundColor:i.colors.background}],children:(0,v.jsxs)(a.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:[(0,v.jsx)(W,{user:Object.assign({},e,{username:"Your Story",profileImageUrl:P[0].profileImageUrl,hasStory:!1}),onPress:()=>J(P[0])}),P.slice(1).map((e=>(0,v.jsx)(W,{user:e,onPress:()=>J(e)},e.id))),F.map((e=>(0,v.jsx)(L,{resort:e,onPress:()=>(e=>{const o={user:{username:e.name,profileImageUrl:e.imageUrl},imageUrl:"https://images.unsplash.com/photo-1488591216063-cb6ab485cece?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"};x(o)})(e)},e.id)))]})}),h.map((e=>(0,v.jsx)(U,{post:e,onLike:$,onSave:G,onComment:()=>b(e),onViewComments:()=>b(e),onUserPress:()=>{return o=e.user,void Y(o);var o},onImagePress:()=>$(e.id),onShare:()=>(async e=>{try{const o=await f.default.share({message:`Check out this amazing snow at ${e.location?.name||"the mountains"}! #PeakShare`,url:e.imageUrls||e.imageUrl});o.action===f.default.sharedAction?o.activityType?console.log("Shared with activity type:",o.activityType):console.log("Shared successfully"):o.action===f.default.dismissedAction&&console.log("Share dismissed")}catch(o){alert(o.message)}})(e)},e.id)))]}),(0,v.jsxs)(l.default,{style:[X.tabBar,{borderTopColor:i.colors.silver,backgroundColor:i.colors.background}],children:[(0,v.jsx)(R,{icon:"\ud83c\udfe0",isActive:"home"===u,onPress:()=>m("home")}),(0,v.jsx)(R,{icon:"\ud83d\udd0d",isActive:"explore"===u,onPress:()=>m("explore")}),(0,v.jsx)(R,{icon:"\u2795",isActive:"create"===u,onPress:()=>{M(!0)}}),(0,v.jsx)(R,{icon:"\u2764\ufe0f",isActive:"activity"===u,onPress:()=>m("activity")}),(0,v.jsx)(R,{icon:"\ud83d\udc64",isActive:"profile"===u,onPress:()=>{const o=Object.assign({},e,{profileImageUrl:P[0].profileImageUrl}),t=h.filter((o=>o.user.id===e.id));w({user:o,posts:t,isOwnProfile:!0})}})]}),(0,v.jsx)(c.default,{style:X.settingsButton,onPress:()=>{V(!0)},onLongPress:d,children:(0,v.jsx)(s.default,{style:[X.settingsButtonText,{color:i.colors.primary}],children:"\u2699\ufe0f"})}),(0,v.jsx)(A,{visible:null!==p,story:p,onClose:()=>x(null)}),(0,v.jsx)(D,{visible:null!==y,post:y,onClose:()=>b(null),onAddComment:(o,t)=>{const r={id:`comment-${Date.now()}`,user:Object.assign({},e,{profileImageUrl:P[0].profileImageUrl}),text:t,timestamp:new Date};g((e=>e.map((e=>e.id===o?Object.assign({},e,{comments:[...e.comments||[],r],commentCount:(e.commentCount||0)+1}):e))))},onLikeComment:(e,o)=>{console.log(`Liked comment ${o} on post ${e}`)}}),C&&(0,v.jsx)(O,{user:C.user,posts:C.posts,isOwnProfile:C.isOwnProfile,onClose:()=>w(null),onEditProfile:e=>{console.log("Profile updated:",e);const{handleUpdateUserProfile:o}=(0,r.useContext)(I);o&&o(e)}}),(0,v.jsx)(E,{visible:k,onClose:()=>S(!1)}),(0,v.jsx)(H,{visible:B,onClose:()=>V(!1),onToggleTheme:t,isDarkMode:o}),(0,v.jsx)(N,{visible:q,onClose:()=>M(!1),onSubmitPost:e=>{g((o=>[e,...o]))}})]})},G=({children:e})=>{const o=(0,y.default)(),[t,l]=(0,r.useState)(!1),[s,i]=(0,r.useState)(S);(0,r.useEffect)((()=>{(async()=>{try{const e=await w.default.getItem("themePreference");if(null!==e){const o="dark"===e;l(o),i(o?B:S)}else{const e="dark"===o;l(e),i(e?B:S)}}catch(e){console.error("Error loading theme preference:",e)}})()}),[o]);return(0,v.jsx)(T.Provider,{value:{theme:s,isDarkMode:t,toggleTheme:async()=>{const e=!t;l(e),i(e?B:S);try{await w.default.setItem("themePreference",e?"dark":"light")}catch(o){console.error("Error saving theme preference:",o)}}},children:e})},J=({children:e})=>{const[o,t]=(0,r.useState)(null),[l,s]=(0,r.useState)(!0);(0,r.useEffect)((()=>{(async()=>{try{const e=await w.default.getItem("user");e&&t(JSON.parse(e))}catch(e){console.error("Error checking login status:",e)}finally{s(!1)}})()}),[]);return(0,v.jsx)(I.Provider,{value:{user:o,isLoading:l,handleLogin:async(e,o)=>{try{if(s(!0),e&&o){const o={id:"1",email:e,username:e.split("@")[0],fullName:"",bio:"Skiing enthusiast | New to PeakShare | Looking forward to sharing my adventures!",website:"",profileImageUrl:P[0].profileImageUrl};return await w.default.setItem("user",JSON.stringify(o)),t(o),!0}return!1}catch(r){return console.error("Error logging in:",r),!1}finally{s(!1)}},handleSignup:async(e,o,r,l)=>{try{if(s(!0),e&&o&&r&&l){const l={id:Date.now().toString(),email:e,fullName:o,username:r,bio:"Skiing enthusiast | New to PeakShare | Looking forward to sharing my adventures!",website:"",profileImageUrl:P[0].profileImageUrl};return await w.default.setItem("user",JSON.stringify(l)),t(l),!0}return!1}catch(i){return console.error("Error signing up:",i),!1}finally{s(!1)}},handleUpdateUserProfile:async e=>{try{return await w.default.setItem("user",JSON.stringify(e)),t(e),!0}catch(o){return console.error("Error updating profile:",o),!1}},handleLogout:async()=>{try{await w.default.removeItem("user"),t(null)}catch(e){console.error("Error logging out:",e)}}},children:e})},Y=()=>{const{user:e,isLoading:o,handleLogin:t,handleSignup:i}=(0,r.useContext)(I),{theme:n,isDarkMode:a,toggleTheme:d}=(0,r.useContext)(T),[c,u]=(0,r.useState)("login");return o?(0,v.jsx)(l.default,{style:[X.loadingContainer,{backgroundColor:n.colors.background}],children:(0,v.jsx)(s.default,{style:{color:n.colors.primary},children:"Loading..."})}):e?(0,v.jsx)($,{user:e,isDarkMode:a,toggleTheme:d}):"login"===c?(0,v.jsx)(q,{onLogin:t,onNavigateToSignup:()=>u("signup")}):(0,v.jsx)(M,{onSignup:i,onNavigateToLogin:()=>u("login")})};function _(){return(0,v.jsx)(b.default,{children:(0,v.jsx)(G,{children:(0,v.jsx)(J,{children:(0,v.jsx)(Y,{})})})})}const{width:K,height:Q}=g.default.get("window"),X=i.default.create({container:{flex:1,backgroundColor:theme.colors.background},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingHorizontal:16,paddingTop:50,paddingBottom:10,borderBottomWidth:.5,borderBottomColor:theme.colors.silver},logoText:{fontSize:22,fontWeight:"bold",color:theme.colors.deepBlue},headerIcons:{flexDirection:"row",alignItems:"center"},iconPlaceholder:{fontSize:24,marginLeft:16},storiesRow:{paddingVertical:12,borderBottomWidth:.5,borderBottomColor:theme.colors.silver},storyContainer:{alignItems:"center",marginHorizontal:8,width:72},resortContainer:{alignItems:"center",marginHorizontal:8,width:72},storyCircleWrapper:{position:"relative"},gradientBorder:{width:72,height:72,borderRadius:36,justifyContent:"center",alignItems:"center"},storyCircleInner:{width:68,height:68,borderRadius:34,backgroundColor:theme.colors.background,justifyContent:"center",alignItems:"center",borderWidth:2,borderColor:theme.colors.background,overflow:"hidden"},storyCircle:{width:72,height:72,borderRadius:36,justifyContent:"center",alignItems:"center",overflow:"hidden"},storyAvatar:{width:"100%",height:"100%"},inactiveStoryBorder:{borderWidth:2,borderColor:theme.colors.silver},storyUsername:{fontSize:11,marginTop:4,textAlign:"center",color:theme.colors.midnight},snowBadge:{position:"absolute",bottom:0,right:0,backgroundColor:theme.colors.deepBlue,borderRadius:10,paddingHorizontal:6,paddingVertical:2,borderWidth:2,borderColor:theme.colors.snow},snowText:{color:theme.colors.snow,fontSize:10,fontWeight:"bold"},postCard:{marginBottom:16,backgroundColor:theme.colors.background},postHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:12},userInfo:{flexDirection:"row",alignItems:"center"},avatar:{width:32,height:32,borderRadius:16,marginRight:10},username:{fontWeight:"bold",fontSize:14,color:theme.colors.midnight},location:{fontSize:12,color:theme.colors.mountain},moreIcon:{fontSize:24},postImageContainer:{position:"relative",width:"100%",height:400},postImage:{width:"100%",height:"100%"},weatherBadge:{position:"absolute",top:12,right:12,backgroundColor:"rgba(0, 0, 0, 0.7)",borderRadius:16,paddingHorizontal:10,paddingVertical:4},weatherText:{color:theme.colors.snow,fontSize:14},actionsRow:{flexDirection:"row",justifyContent:"space-between",padding:12},leftActions:{flexDirection:"row"},actionIcon:{fontSize:24,marginRight:16},liked:{color:theme.colors.error},postContent:{paddingHorizontal:12,paddingBottom:12},likesCount:{fontWeight:"bold",marginBottom:4,color:theme.colors.midnight},caption:{marginBottom:4,color:theme.colors.midnight},captionUsername:{fontWeight:"bold"},viewComments:{color:theme.colors.mountain,marginBottom:4},timestamp:{color:theme.colors.mountain,fontSize:12},tabBar:{flexDirection:"row",justifyContent:"space-around",alignItems:"center",borderTopWidth:.5,borderTopColor:theme.colors.silver,paddingVertical:10,backgroundColor:theme.colors.background},tabBarItem:{alignItems:"center",justifyContent:"center"},tabIcon:{fontSize:24,color:theme.colors.midnight},activeTab:{color:theme.colors.primary},storyViewerContainer:{flex:1,backgroundColor:"#000"},storyViewerHeader:{position:"absolute",top:50,left:0,right:0,flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:12,zIndex:10},storyUserInfo:{flexDirection:"row",alignItems:"center"},storyViewerAvatar:{width:32,height:32,borderRadius:16,marginRight:10,borderWidth:2,borderColor:theme.colors.snow},storyViewerUsername:{fontWeight:"bold",fontSize:14,color:theme.colors.snow},closeButton:{fontSize:20,color:theme.colors.snow,padding:8},storyViewerImage:{flex:1,width:"100%",height:"100%"},storyViewerFooter:{position:"absolute",bottom:30,left:0,right:0,padding:12},storyReplyInput:{backgroundColor:"rgba(255, 255, 255, 0.2)",borderRadius:20,padding:12,color:theme.colors.snow},commentsContainer:{flex:1,backgroundColor:theme.colors.background},commentsHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:16,borderBottomWidth:.5,borderBottomColor:theme.colors.silver},commentsTitle:{fontSize:16,fontWeight:"bold",color:theme.colors.midnight},commentItem:{flexDirection:"row",padding:12,borderBottomWidth:.5,borderBottomColor:theme.colors.silver},commentAvatar:{width:32,height:32,borderRadius:16,marginRight:10},commentContent:{flex:1},commentUsername:{fontWeight:"bold",marginBottom:2,color:theme.colors.midnight},commentText:{color:theme.colors.midnight},commentLikeButton:{justifyContent:"center",paddingHorizontal:10},commentLikeIcon:{fontSize:16,color:theme.colors.midnight},commentInputContainer:{flexDirection:"row",alignItems:"center",padding:12,borderTopWidth:.5,borderTopColor:theme.colors.silver,position:"absolute",bottom:0,left:0,right:0,backgroundColor:theme.colors.background},commentInputAvatar:{width:32,height:32,borderRadius:16,marginRight:10},commentInput:{flex:1,height:40,color:theme.colors.midnight},postButton:{marginLeft:10},postButtonText:{color:theme.colors.primary,fontWeight:"bold"},postButtonDisabled:{opacity:.5},profileContainer:{flex:1,backgroundColor:theme.colors.background},profileHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:16,borderBottomWidth:.5,borderBottomColor:theme.colors.silver},backButton:{fontSize:28,paddingHorizontal:8,paddingVertical:4,color:theme.colors.midnight},profileUsername:{fontSize:16,fontWeight:"bold",color:theme.colors.midnight},menuIcon:{fontSize:24,color:theme.colors.midnight},profileInfo:{flexDirection:"row",alignItems:"center",paddingHorizontal:16,paddingVertical:20},profileImageContainer:{marginRight:24},profileImage:{width:80,height:80,borderRadius:40},statsContainer:{flex:1,flexDirection:"row",justifyContent:"space-around"},statItem:{alignItems:"center"},statNumber:{fontSize:18,fontWeight:"bold",color:theme.colors.midnight},statLabel:{fontSize:12,color:theme.colors.mountain},bioContainer:{paddingHorizontal:16,paddingBottom:20},realName:{fontSize:14,fontWeight:"bold",marginBottom:4,color:theme.colors.midnight},bioText:{fontSize:14,color:theme.colors.midnight,marginBottom:10},skiStats:{flexDirection:"row",backgroundColor:theme.colors.ice,borderRadius:8,padding:10,marginTop:10},skiStatItem:{flex:1,alignItems:"center"},skiStatValue:{fontSize:16,fontWeight:"bold",color:theme.colors.deepBlue},skiStatLabel:{fontSize:12,color:theme.colors.mountain},actionButtonsContainer:{flexDirection:"row",paddingHorizontal:16,paddingBottom:20},followButton:{flex:1,backgroundColor:theme.colors.primary,borderRadius:6,paddingVertical:8,marginRight:8,alignItems:"center"},followButtonText:{color:theme.colors.snow,fontWeight:"bold"},messageButton:{flex:1,backgroundColor:theme.colors.snow,borderRadius:6,paddingVertical:8,marginLeft:8,alignItems:"center",borderWidth:1,borderColor:theme.colors.silver},messageButtonText:{color:theme.colors.midnight,fontWeight:"500"},profileTabsContainer:{flexDirection:"row",borderTopWidth:.5,borderTopColor:theme.colors.silver,borderBottomWidth:.5,borderBottomColor:theme.colors.silver},profileTab:{flex:1,alignItems:"center",paddingVertical:12},activeProfileTab:{borderBottomWidth:2,borderBottomColor:theme.colors.primary},profileTabIcon:{fontSize:22,color:theme.colors.midnight},postsGrid:{flexDirection:"row",flexWrap:"wrap"},gridItem:{width:K/3,height:K/3,padding:1},gridImage:{width:"100%",height:"100%"},dmsContainer:{flex:1,backgroundColor:theme.colors.background},dmsHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:16,borderBottomWidth:.5,borderBottomColor:theme.colors.silver},dmsTitle:{fontSize:16,fontWeight:"bold",color:theme.colors.midnight},newMessageIcon:{fontSize:24,paddingHorizontal:8,paddingVertical:4,color:theme.colors.primary},conversationItem:{flexDirection:"row",alignItems:"center",padding:12,borderBottomWidth:.5,borderBottomColor:theme.colors.silver},conversationAvatar:{width:56,height:56,borderRadius:28,marginRight:12},conversationContent:{flex:1},conversationUsername:{fontSize:14,fontWeight:"bold",marginBottom:4,color:theme.colors.midnight},conversationMessage:{fontSize:14,color:theme.colors.mountain},conversationTime:{fontSize:12,color:theme.colors.mountain,marginLeft:10},settingsContainer:{flex:1,backgroundColor:theme.colors.background},settingsHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:16,borderBottomWidth:.5,borderBottomColor:theme.colors.silver},settingsTitle:{fontSize:16,fontWeight:"bold",color:theme.colors.midnight},settingSection:{marginBottom:24,paddingHorizontal:16},settingSectionTitle:{fontSize:14,fontWeight:"bold",marginVertical:12,color:theme.colors.midnight},settingItem:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:12,borderBottomWidth:.5,borderBottomColor:theme.colors.silver},settingLabel:{fontSize:16,color:theme.colors.midnight},settingArrow:{fontSize:20,color:theme.colors.mountain},logoutButton:{marginTop:24,marginHorizontal:16,backgroundColor:"#FF3B30",paddingVertical:14,borderRadius:8,alignItems:"center"},logoutButtonText:{color:"white",fontWeight:"bold",fontSize:16},settingsButton:{position:"absolute",bottom:90,right:20,width:44,height:44,borderRadius:22,backgroundColor:"rgba(0, 0, 0, 0.1)",alignItems:"center",justifyContent:"center",elevation:3,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.2,shadowRadius:3},settingsButtonText:{fontSize:24},authContainer:{flex:1,backgroundColor:theme.colors.background,paddingHorizontal:24},logoContainer:{alignItems:"center",marginTop:80,marginBottom:40},logoTagline:{marginTop:8,fontSize:16,color:theme.colors.midnight,textAlign:"center"},formContainer:{marginBottom:30},inputContainer:{backgroundColor:theme.colors.surface,borderRadius:8,borderWidth:1,borderColor:theme.colors.silver,paddingHorizontal:16,paddingVertical:12,marginBottom:16},input:{fontSize:16,color:theme.colors.midnight},forgotPasswordLink:{alignSelf:"flex-end",marginBottom:24},forgotPasswordText:{fontSize:14,color:theme.colors.primary},authButton:{backgroundColor:theme.colors.primary,borderRadius:8,paddingVertical:14,alignItems:"center"},authButtonText:{color:"white",fontWeight:"bold",fontSize:16},authFooter:{flexDirection:"row",justifyContent:"center",marginTop:16},authFooterText:{fontSize:14,color:theme.colors.mountain},authFooterLink:{fontSize:14,fontWeight:"bold",color:theme.colors.primary},backButtonContainer:{marginTop:16,marginLeft:-8},commentActions:{flexDirection:"row",marginTop:4},commentTimestamp:{fontSize:12,color:theme.colors.mountain,marginRight:12},commentReply:{fontSize:12,color:theme.colors.mountain,fontWeight:"500"},loadingContainer:{flex:1,alignItems:"center",justifyContent:"center",backgroundColor:theme.colors.background},iconButton:{marginLeft:16},editProfileContainer:{flex:1,backgroundColor:theme.colors.background},editProfileHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:16,borderBottomWidth:.5,borderBottomColor:theme.colors.silver},editProfileTitle:{fontSize:16,fontWeight:"bold",color:theme.colors.midnight},cancelButton:{fontSize:16,color:theme.colors.midnight},saveButton:{fontSize:16,fontWeight:"bold",color:theme.colors.primary},editProfileContent:{padding:16},profilePictureEdit:{alignItems:"center",marginBottom:24},editProfileImage:{width:100,height:100,borderRadius:50,marginBottom:12},changePhotoText:{fontSize:16,fontWeight:"500",color:theme.colors.primary},editFieldContainer:{marginBottom:20},editFieldLabel:{fontSize:14,marginBottom:8,color:theme.colors.mountain},editField:{fontSize:16,paddingVertical:10,paddingHorizontal:12,borderWidth:1,borderColor:theme.colors.silver,borderRadius:6,color:theme.colors.midnight},editBioField:{fontSize:16,paddingVertical:10,paddingHorizontal:12,borderWidth:1,borderColor:theme.colors.silver,borderRadius:6,minHeight:100,textAlignVertical:"top",color:theme.colors.midnight},skiStatsEdit:{marginTop:20},skiStatsEditTitle:{fontSize:16,fontWeight:"bold",marginBottom:8,color:theme.colors.midnight},skiStatsEditDesc:{fontSize:14,color:theme.colors.mountain,marginBottom:12},websiteText:{fontSize:14,color:theme.colors.primary,marginBottom:10},editProfileButton:{flex:1,backgroundColor:theme.colors.snow,borderRadius:6,paddingVertical:8,alignItems:"center",borderWidth:1,borderColor:theme.colors.silver},editProfileButtonText:{fontWeight:"500",color:theme.colors.midnight},newPostContainer:{flex:1,backgroundColor:theme.colors.background},newPostHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:16,borderBottomWidth:.5,borderBottomColor:theme.colors.silver},newPostTitle:{fontSize:16,fontWeight:"bold",color:theme.colors.midnight},postActionText:{fontSize:16,fontWeight:"bold",color:theme.colors.primary},newPostContent:{flex:1,padding:16},postTypeSelector:{flexDirection:"row",marginBottom:20},postTypeButton:{flex:1,paddingVertical:10,alignItems:"center",borderRadius:6,borderWidth:1,borderColor:theme.colors.silver,marginHorizontal:5},postTypeText:{fontWeight:"500"},imagePickerContainer:{marginBottom:20},imagePicker:{height:200,borderRadius:8,justifyContent:"center",alignItems:"center",backgroundColor:theme.colors.silver},imagePickerText:{fontSize:16,color:theme.colors.midnight},selectedImageContainer:{position:"relative"},selectedImage:{width:"100%",height:250,borderRadius:8},changeImageButton:{position:"absolute",right:10,bottom:10,backgroundColor:"rgba(0, 0, 0, 0.7)",paddingHorizontal:12,paddingVertical:6,borderRadius:16},changeImageText:{color:"white",fontSize:14},captionContainer:{marginBottom:20},captionInput:{fontSize:16,paddingVertical:10,paddingHorizontal:12,borderWidth:1,borderColor:theme.colors.silver,borderRadius:6,minHeight:100,textAlignVertical:"top",color:theme.colors.midnight},locationContainer:{marginBottom:20,paddingTop:20,borderTopWidth:.5,borderTopColor:theme.colors.silver},locationLabel:{fontSize:16,fontWeight:"500",marginBottom:10,color:theme.colors.midnight},locationInput:{fontSize:16,paddingVertical:10,paddingHorizontal:12,borderWidth:1,borderColor:theme.colors.silver,borderRadius:6,color:theme.colors.midnight},weatherContainer:{marginBottom:20},weatherLabel:{fontSize:16,fontWeight:"500",marginBottom:10,color:theme.colors.midnight},weatherInfo:{backgroundColor:theme.colors.ice,padding:12,borderRadius:8},weatherValue:{fontSize:16,fontWeight:"bold",marginBottom:4,color:theme.colors.deepBlue},weatherSubtext:{fontSize:12,color:theme.colors.mountain}})}},o={};function t(r){var l=o[r];if(void 0!==l)return l.exports;var s=o[r]={exports:{}};return e[r].call(s.exports,s,s.exports,t),s.exports}t.m=e,(()=>{var e=[];t.O=(o,r,l,s)=>{if(!r){var i=1/0;for(c=0;c<e.length;c++){for(var[r,l,s]=e[c],n=!0,a=0;a<r.length;a++)(!1&s||i>=s)&&Object.keys(t.O).every((e=>t.O[e](r[a])))?r.splice(a--,1):(n=!1,s<i&&(i=s));if(n){e.splice(c--,1);var d=l();void 0!==d&&(o=d)}}return o}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[r,l,s]}})(),t.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return t.d(o,{a:o}),o},t.d=(e,o)=>{for(var r in o)t.o(o,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:o[r]})},t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),t.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),t.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={792:0};t.O.j=o=>0===e[o];var o=(o,r)=>{var l,s,[i,n,a]=r,d=0;if(i.some((o=>0!==e[o]))){for(l in n)t.o(n,l)&&(t.m[l]=n[l]);if(a)var c=a(t)}for(o&&o(r);d<i.length;d++)s=i[d],t.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return t.O(c)},r=self.webpackChunkweb=self.webpackChunkweb||[];r.forEach(o.bind(null,0)),r.push=o.bind(null,r.push.bind(r))})();var r=t.O(void 0,[195],(()=>t(4424)));r=t.O(r)})();
//# sourceMappingURL=main.20f5ada6.js.map